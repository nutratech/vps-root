proxy_pass http://127.0.0.1:5000;

proxy_set_header Host $host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto $scheme;

include snippets/security-headers.conf;
add_header X-Debug-Server "Nutra-API" always;

# Favicon handled by Flask return 204 or Nginx location block
# Since this snippet is included inside a location block, we can't easily add a nested location for favicon
# So we rely on the Flask app to handle it if it falls through, OR the parent config to handle it.

# Strip unwanted headers
proxy_hide_header X-Firefox-Spdy;
